{% extends 'base.html.twig' %}

{% block title %} {{ controller_name }}!{% endblock %}

          {% block javascripts %}
              <script language = "javascript" src = "https://code.jquery.com/jquery-2.2.4.min.js"></script>
              <script>
                  var openFile = function(event) {
                      var input = event.target;

                      var reader = new FileReader();
                      reader.onload = function(){
                          var text = reader.result;
                          var node = document.getElementById('myTextArea');
                          node.innerText = text;
                          console.log(reader.result.substring(0, 200));
                      };
                      reader.readAsText(input.files[0]);
                  };
              </script>
    {% endblock %}


{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>Import todo.txt file</h1>

        <h3>File upload</h3>
        <div id="simpleform">
            {{ form_start(form) }}
            {{ form_widget(form) }}
            {{ form_end(form) }}
        </div>

    <h3>Upload and Edit TXT File</h3>

    <input type='file' accept='text/plain' onchange='openFile(event)'><br>
    {#<div id='output'>#}
    <textarea id="myTextArea" rows="10" columns="10"></textArea>




</div>
{% endblock %}
